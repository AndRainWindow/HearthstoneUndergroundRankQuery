# 数据库架构修改方案

## 目标
重新设计数据库架构，只保留赛季、玩家和积分三个核心数据字段，简化数据存储和查询逻辑。

## 修改步骤

### 1. 修改数据库表结构
- 创建新的简化表结构，只包含必要字段
- 保留现有表以确保数据兼容性

### 2. 更新 DatabaseManager 类
- 修改 `init_db` 方法：创建新的简化表
- 修改 `save_data` 方法：只存储赛季、玩家和积分数据
- 修改 `get_data` 方法：只查询必要字段

### 3. 确保与其他模块兼容性
- 调整 APIHandler 中的数据处理逻辑
- 确保 GUI 模块能正确处理简化后的数据结构

## 新数据库表结构

```sql
CREATE TABLE IF NOT EXISTS simplified_rank_data (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    season TEXT,
    player TEXT,
    score INTEGER,
    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP
)
```

## 预期效果
- 数据库存储更简洁，只保留核心数据
- 数据写入和查询速度更快
- 代码逻辑更清晰，易于维护
- 保持与现有功能的完全兼容性